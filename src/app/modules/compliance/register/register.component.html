<app-user-icon></app-user-icon>
<app-traffic-light></app-traffic-light>


<div class="page-content" #tableContainer style="overflow: scroll;">
<!-- SEÑOR CONTADOR ESPERO QUE NUNCA VEA ESTO PORQUE SABRÁ PUES QUE LO ODIO CON TODO MI CORAZÓN, Y CON CARIÑO, USTED ES UN ESTÚPIDO -->

<div style="overflow: scroll;">
<!-- <mat-table [dataSource]="blueTableDataSource" style="width: 3000px;">
  <ng-container *ngFor="let column of blueColumnsToDisplay" [matColumnDef]="column">
      <mat-header-cell *matHeaderCellDef style="color: white;">{{ blueColumnNames[column] }}</mat-header-cell>
      <mat-cell *matCellDef="let element; let i = index" class="table-element">
          <ng-container [ngSwitch]="column">
              <ng-container *ngSwitchCase="'numeros'">{{element.numeros}}</ng-container>
              <ng-container *ngSwitchCase="'modulo'"><strong>{{element.modulo}}</strong></ng-container>
              <ng-container *ngSwitchCase="'contenido'">{{element.contenido}}</ng-container>
              <ng-container *ngSwitchCase="'link'">
                <button mat-icon-button (click)="abrirVideo(element.link)">
                  <mat-icon>video_library</mat-icon>
                </button>
              </ng-container>
          </ng-container>
      </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="blueColumnsToDisplay" class="celdasAzules"></mat-header-row>

  <mat-row *matRowDef="let row; columns: blueColumnsToDisplay"></mat-row>
</mat-table> -->
</div>
<!--LA FUCKING TABLA DEL DIABLO-->

  <mat-table [dataSource]="dataSource" class="mat-elevation-z8 celdas" matSort style="height: 70%; width: 11900px; border-top-width: 5px;" >

    <ng-container matColumnDef="fixedColumn02" class="container" >
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 2;">
        <div style="display: flex; flex-direction: column; width: 100%; height: 110px;" class="celdas celdasAzules">
          Contenido
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff;  padding: 0px; margin: 0px; flex: 2;">
        <div class="container celdas internas" *ngIf="shave(row.content.columna_extra)">
          <strong>{{shaveAgain(row.content.columna_extra)}}</strong>
        </div>
        <div class="container celdas internas" *ngIf="!shave(row.content.columna_extra)">
          {{row.content.columna_extra}}
        </div>
      </mat-cell>

    </ng-container>

    <ng-container matColumnDef="fixedColumn01" class="container" >
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 6;">
        <div style="display: flex; flex-direction: column; width: 100%;">
          <div class="celdas celdasAzules">Correlación con inicio</div>
          <div class="celdas" style="flex-direction: row; display: flex; width: 100%;">
            <div class="celdas celdasAzules" style="flex: 1; height: 86px;">Círculo Azul</div>
            <div class="celdas celdasAzules" style="flex: 1;">Intro</div>
            <div class="celdas celdasAzules" style="flex: 1;">Noticias</div>
            <div class="celdas celdasAzules" style="flex: 1;">Leyes</div>
            <div class="celdas celdasAzules" style="flex: 1;">Temario</div>        
            <div class="celdas celdasAzules" style="flex: 1;">Búsqueda</div>  
            <div class="celdas celdasAzules" style="flex: 1;">Incentivos</div> 
            <div class="celdas celdasAzules" style="flex: 1;">Números</div>
          </div>
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 6;">
        <div class="container">
          <div class="celdas internas" style="flex: 1;">
            <button mat-icon-button (click)="abrirVideo(row.content.circulo_azul)" *ngIf="row.content.circulo_azul !== ''">
              <mat-icon>video_library</mat-icon>
            </button>
            <a (click)="editVideo(row.content.video_id_blue)" *ngIf="row.content.circulo_azul !== ''">Editar</a>
          </div>
          <div class="celdas internas" style="flex: 1;">
            <button mat-icon-button (click)="abrirVideo(row.content.news)" *ngIf="row.content.news !== ''">
              <mat-icon>video_library</mat-icon>
            </button>
            <a (click)="editVideo(row.content.video_id_blue)" *ngIf="row.content.news !== ''">Editar</a>
          </div>
          <div class="celdas internas" style="flex: 1;">
            <button mat-icon-button (click)="abrirVideo(row.content.intro)" *ngIf="row.content.intro !== ''">
              <mat-icon>video_library</mat-icon>
            </button>
            <a (click)="editVideo(row.content.video_id_blue)" *ngIf="row.content.intro !== ''">Editar</a>
          </div>
          <div class="celdas internas" style="flex: 1; overflow: scroll;">
            <button (click)="openArticleRef(row)" mat-fab color="primary" class="custom-fab">
              <mat-icon style="font-size:22px;">bookmark</mat-icon>
            </button>        
            <br/>

            <p *ngIf="row.content.leyes.length > 0">Articulos</p>
            <a *ngFor="let a of row.content.leyes" (click)="articleClicked(a)" >
              {{a.articulos.articulo}} .- {{a.articulos.nombre}}
            </a>

            <p *ngIf="row.content.parrafos.length > 0">Parrafos</p>
            <a *ngFor="let a of row.content.parrafos">
              {{a.articulo_parafo.id_articulo}} .- Parr. {{a.articulo_parafo.numero}}, {{a.articulo_parafo.nombre}}
            </a>

          </div>  
          <div class="celdas internas" style="flex: 1; overflow: scroll;">
            <button (click)="openTopicsRef(row)"  mat-fab color="primary" class="custom-fab">
              <mat-icon style="font-size:22px;">assignment</mat-icon>
            </button>
            <span *ngFor="let b of row.content.temas">{{b.temario.nombre}}, </span> 
          </div>  
          <div class="celdas internas" style="flex: 1;">Contenido</div>  
          <div class="celdas internas" style="flex: 1;">Contenido</div>  
          <div class="celdas internas" style="flex: 1;">Contenido</div>
        </div>
      </mat-cell>

    </ng-container>
    
    <ng-container matColumnDef="fixedColumn" class="container" >
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 1.2;">
        <div class="container" style="flex-direction: column;">
          <div class="celdas" style="height: 8.55vh; min-height: 80.37px; "></div>
          <div class="celdas" style="height: max-content; flex-direction: row; display: flex;">
            <div class="celdas" style="flex: 1;">Números</div>
            <div class="celdas" style="flex: 1;">Indicador</div>
          </div>
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 1.2;">
        <div class="container">
          <div class="celdas internas" style="flex: 1;">{{row.content.id_cumplimiento}}</div>  
          <div class="celdas internas" style="flex: 1;">
            <div class="circle" [ngStyle]="{'background-color': isFechaMaxima(row.content)}"></div>
          </div>
        </div>
      </mat-cell>

    </ng-container>

    <ng-container matColumnDef="fixedColumn2" class="container" >
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 4.5;">
        <div class="container" style="flex-direction: column;">
          <div class="celdas" style="height: 4vh; min-height: 37.6px; overflow: scroll;">
            Las obligaciones se listan por <a (click)="reorderBy('id_cumplimiento')">General</a> / 
            <a (click)="reorderBy('fecha_ideal')">Fecha Ideal</a> / 
            <a (click)="getObligations(0, 'impuesto_isr')">ISR</a> / 
            <a (click)="getObligations(0, 'impuesto_iva')">IVA</a> / 
            <a (click)="getObligations(0, 'impuesto_nomina')">Nóminas</a> / 
            <a (click)="getObligations(0, 'impuesto_otro')">Otros</a> / 
          </div>
          <div style="display: flex; flex-direction: row;">
            <div style="flex: 2;">
              <div class="celdas" style="min-height: 35.77px; text-align: center; padding-top:4%;"><b>Cumplimiento {{d | date:'d-MMMM-y'}}</b></div>
              <!-- <div class="celdas" style="font-size: x-small;">Columnas que aplican en ol que sí ve el "Usuario Responsable de Cumplimiento Uno de la Empresa" </div> -->
              <div class="celdas" style="display: flex; flex-direction: row;">
                <div style="flex: 1; font-size: x-small;" class="celdas">Muestra el cumplimiento</div>
                <div style="flex: 1; font-size: x-small;" class="celdas">Modifica el cumplimiento</div>
                <div style="flex: 1; font-size: x-small;" class="celdas">Puede acceder al chat</div>
              </div>
            </div>
            <div style="flex: 1.2;">
              <div class="celdas" style="height: 4.55vh; min-height: 37.6px;; ">Descripción</div>
              <div class="celdas" style="height: max-content; flex-direction: row; display: flex;">
                <div class="celdas" style="flex: 0.5;">+</div>
                <div class="celdas" style="flex: 0.5; font-size: xx-small;">Actualizado al</div>
              </div>
            </div>
            <div style="flex: 1.2;">
              <div class="celdas" style="height: 4.55vh; min-height: 37.6px;; ">Tipo de impuesto</div>
              <div class="celdas" style="height: max-content; flex-direction: row; display: flex;">
                <div class="celdas" style="flex: 0.5;">ISR</div>
                <div class="celdas" style="flex: 0.5;">IVA</div>
                <div class="celdas" style="flex: 1;">Nóminas</div>
                <div class="celdas" style="flex: 0.5;">Otros</div>
              </div>
            </div>
          </div>
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 4.5;">
      <div class="container">
        <div style="flex: 2;">
          <div class="celdas internas" style="flex: 1;"><p style="overflow: scroll; max-width: 250px;">{{row.content.nombre}}</p></div>  
        </div>
        <div style="flex: 1.2; display: flex; flex-direction: row;">
          <div class="celdas internas" style="flex: 1; white-space: wrap;" contenteditable (input)="onFieldEdit($event, row)"><p style="overflow: scroll; max-width: 78px;">{{row.content.descripcion}}</p></div>
          <div class="celdas internas" style="flex: 1; white-space: wrap;">{{parseDate(row.content.modificadoAl) | date:'dd/MMM/yy'}} a las {{parseDate(row.content.modificadoAl) | date:'HH:mm'}}</div>

        </div>
        <div style="flex: 1.2; display: flex; flex-direction: row;">
          <div class="celdas internas" style="flex: 0.5;">
            <mat-checkbox class="example-margin" (change)="updateISR($event, row)"[checked]= "row.content.ISR == 1"></mat-checkbox>
          </div>  
          <div class="celdas internas" style="flex: 0.5;">          
            <mat-checkbox class="example-margin" (change)="updateIVA($event, row)" [checked]= "row.content.IVA == 1"></mat-checkbox>
          </div>  
          <div class="celdas internas" style="flex: 1;">
            <mat-checkbox class="example-margin" (change)="updateNOM($event, row)" [checked]= "row.content.NOMINA == 1"></mat-checkbox>
          </div>  
          <div class="celdas internas" style="flex: 0.5;">
            <mat-checkbox class="example-margin" (change)="updateOTHER($event, row)" [checked]= "row.content.OTRO == 1"></mat-checkbox>
          </div>  
        </div> 
      </div>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="fixedColumn3" class="container" >
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 1.3;">
        <div class="container" style="flex-direction: column;">
          <div class="celdas" style=" min-height: 86.61px;">¿Aplica el Punto?</div>
          <div class="celdas" style="flex-direction: row; display: flex;">
            <div class="celdas" style="flex: 0.5;">Si</div>
            <div class="celdas" style="flex: 0.5;">No</div>        
            <div class="celdas" style="flex: 1;">Prioridad</div>      
          </div>
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 1.3;">
        <div class="container">
          <div class="celdas internas" style=" display: flex; flex: 1; align-items: center; justify-content: center;">
            <mat-slide-toggle [(ngModel)]="row.switch" 
            (change)="onSwitchChange(row)" 
            color="warn"   
            thumbColor="accent"
            trackColor="warn"
            [checked]="false">
            </mat-slide-toggle>
          </div>  
          <div class="celdas internas" style="flex: 1;">
            <button mat-button [matMenuTriggerFor]="menu" style="padding: 0;">{{row.content.prioridad}} <mat-icon>keyboard_arrow_down</mat-icon> </button>
            <mat-menu #menu="matMenu">
              <button mat-menu-item (click)="modPrioridad(1, row)">Alta</button>
              <button mat-menu-item (click)="modPrioridad(2, row)">Media</button>
              <button mat-menu-item (click)="modPrioridad(3, row)">Baja</button>
            </mat-menu>
          </div> 
        </div>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="fixedColumn4" class="container">
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 16;">
        <div class="container" style="flex-direction: column; min-width: 100% !important; ">
          <div class="celdas" style=" min-height: 21.83px;">Cumplimiento de obligación</div>
          <div class="celdas" style="flex-direction: row; display: flex;">
            <div style="flex: 4; flex-direction: column; display: flex;">
              <div class="celdas" style="min-height: 42.2px;">Fundamento legal</div>
              <div class="celdas" style="display: flex; flex-direction: row;">
                <div class="celdas" style="flex: 1;">Periodo ideal cumplirlo</div>
                <div class="celdas" style="flex: 1;">Periodo recomendado para cumplirlo</div>
                <div class="celdas" style="flex: 1;">Vencimiento próximo, presentarlo ya</div>
                <div class="celdas" style="flex: 1;">Muy urgente, presentar de inmediato</div>
              </div>
            </div>
           
            <div  style="flex: 3; flex-direction: column; display: flex;">
              <div class="celdas" style="height: 3vh; min-height: 28.2px;">Fundamento legal</div>
              <div class="celdas" style="display: flex; flex-direction: row;">
                <div class="celdas" style="flex: 1; height: 53px;">Fecha máxima legal</div>
                <div class="celdas" style="flex: 1;">Ley y Articulo</div>
                <div class="celdas" style="flex: 1;">Actualizado al</div>
              </div>
            </div>  

            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas" style="min-height: 20.2px;">Se cumplió...</div>
              <div class="celdas" style="display: flex; flex-direction: row;">
                <div class="celdas" style="flex: 1; min-height: 59px;">¿En qué fecha?</div>
                <div class="celdas" style="flex: 1;">¿A tiempo, extemporal o aún no?</div>
              </div>        
            </div>
            <div  style="flex: 3; flex-direction: column; display: flex;">
              <div class="celdas" style="height: 3vh; min-height: 28.2px;">Alerta de lo ocurrido</div>
              <div class="celdas" style="display: flex; flex-direction: row;">
                <div class="celdas" style="flex: 1; height: 53px;">Cumplimiento completo</div>
                <div class="celdas" style="flex: 1; font-size: x-small;">El supervisor ya recibió la evidencia y la está evaluando</div>
                <div class="celdas" style="flex: 1;">Incumplimiento del supervisor</div>
              </div>
            </div>  

          </div>
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 16;">
        <div class="container" style="min-width: 100%;">
          <div class="celdas internas" style="flex: 1; display: flex; flex-direction: column;">
            <!-- <span>Inicio del periodo</span>
            <div>
            <input matInput [matDatepicker]="picker" [value]="row.content.idel_date_start | date:'yyyy-MM-dd'" class="fecha_picker" (dateChange)="onDateSelected($event, 1, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker ></mat-datepicker> / 
            </div>

            <span>Fin del periodo</span>
            <div>
            <input matInput [matDatepicker]="picker2" [value]="row.content.idel_date_end | date:'yyyy-MM-dd'" class="fecha_picker" (dateChange)="onDateSelected($event, 2, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matIconSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
            </div> -->

            <mat-form-field>
              <input matInput [ngxMatDatetimePicker]="picker1" placeholder="Inicio del periodo" [(ngModel)]="row.content.idel_date_start_date" 
                 [min]="minDate" [max]="maxDate" [disabled]="disabled" (dateChange)="onDateSelected($event, 1, row.content.id_cumplimiento)">
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <ngx-mat-datetime-picker #picker1 [showSpinners]="showSpinners" [showSeconds]="showSeconds" 
                 [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
                 [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
                 [disableMinute]="disableMinute" [hideTime]="hideTime">
              </ngx-mat-datetime-picker>
           </mat-form-field>
           
           <mat-form-field>
            <input matInput [ngxMatDatetimePicker]="picker2" placeholder="Inicio del periodo" [(ngModel)]="row.content.idel_date_end_date" 
               [min]="minDate" [max]="maxDate" [disabled]="disabled" (dateChange)="onDateSelected($event, 2, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #picker2 [showSpinners]="showSpinners" [showSeconds]="showSeconds" 
               [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
               [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
               [disableMinute]="disableMinute" [hideTime]="hideTime">
            </ngx-mat-datetime-picker>
          </mat-form-field>
            
          </div>
          <div class="celdas internas" style="flex: 1; display: flex; flex-direction: column;">
            <!-- <span>Inicio del periodo</span>
            <div>
            <input matInput [matDatepicker]="picker3" [value]="row.content.recommended_date_start  | date:'yyyy-MM-dd'" class="fecha_picker" (dateChange)="onDateSelected($event, 3, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matIconSuffix [for]="picker3"></mat-datepicker-toggle>
            <mat-datepicker #picker3></mat-datepicker> 
            </div>

            <span>Fin del periodo</span>
            <div>
            <input matInput [matDatepicker]="picker4" [value]="row.content.recommended_date_end  | date:'yyyy-MM-dd'" class="fecha_picker" (dateChange)="onDateSelected($event, 4, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matIconSuffix [for]="picker4"></mat-datepicker-toggle>
            <mat-datepicker #picker4></mat-datepicker>
            </div> -->

            <mat-form-field>
              <input matInput [ngxMatDatetimePicker]="picker3" placeholder="Inicio del periodo" [(ngModel)]="row.content.recommended_date_start_date" 
                 [min]="minDate" [max]="maxDate" [disabled]="disabled" (dateChange)="onDateSelected($event, 3, row.content.id_cumplimiento)">
              <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
              <ngx-mat-datetime-picker #picker3 [showSpinners]="showSpinners" [showSeconds]="showSeconds" 
                 [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
                 [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
                 [disableMinute]="disableMinute" [hideTime]="hideTime">
              </ngx-mat-datetime-picker>
           </mat-form-field>
           
           <mat-form-field>
            <input matInput [ngxMatDatetimePicker]="picker4" placeholder="Inicio del periodo" [(ngModel)]="row.content.recommended_date_end_date" 
               [min]="minDate" [max]="maxDate" [disabled]="disabled" (dateChange)="onDateSelected($event, 4, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matSuffix [for]="picker4"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #picker4 [showSpinners]="showSpinners" [showSeconds]="showSeconds" 
               [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
               [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
               [disableMinute]="disableMinute" [hideTime]="hideTime">
            </ngx-mat-datetime-picker>
          </mat-form-field>

          </div>
          <div class="celdas internas" style="flex: 1; display: flex; flex-direction: column;">
            <!-- <span>Inicio del periodo</span>
            <div>
            <input matInput [matDatepicker]="picker5" [value]="row.content.close_date_start  | date:'yyyy-MM-dd'" class="fecha_picker" (dateChange)="onDateSelected($event, 5, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matIconSuffix [for]="picker5"></mat-datepicker-toggle>
            <mat-datepicker #picker5></mat-datepicker> 
            </div>

            <span>Fin dle periodo</span>
            <div>
            <input matInput [matDatepicker]="picker6" [value]="row.content.close_date_end  | date:'yyyy-MM-dd'" class="fecha_picker" (dateChange)="onDateSelected($event, 6, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matIconSuffix [for]="picker6"></mat-datepicker-toggle>
            <mat-datepicker #picker6></mat-datepicker>
            </div> -->

            <mat-form-field>
              <input matInput [ngxMatDatetimePicker]="picker5" placeholder="Inicio del periodo" [(ngModel)]="row.content.close_date_start_date" 
                 [min]="minDate" [max]="maxDate" [disabled]="disabled" (dateChange)="onDateSelected($event, 5, row.content.id_cumplimiento)">
              <mat-datepicker-toggle matSuffix [for]="picker5"></mat-datepicker-toggle>
              <ngx-mat-datetime-picker #picker5 [showSpinners]="showSpinners" [showSeconds]="showSeconds" 
                 [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
                 [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
                 [disableMinute]="disableMinute" [hideTime]="hideTime">
              </ngx-mat-datetime-picker>
           </mat-form-field>
           
           <mat-form-field>
            <input matInput [ngxMatDatetimePicker]="picker6" placeholder="Inicio del periodo" [(ngModel)]="row.content.close_date_end_date" 
               [min]="minDate" [max]="maxDate" [disabled]="disabled" (dateChange)="onDateSelected($event, 6, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #picker6 [showSpinners]="showSpinners" [showSeconds]="showSeconds" 
               [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
               [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
               [disableMinute]="disableMinute" [hideTime]="hideTime">
            </ngx-mat-datetime-picker>
          </mat-form-field>


          </div>  
          <div class="celdas internas" style="flex: 1; display: flex; flex-direction: column;">
            <!-- <span>Inicio del periodo</span>
            <div>
            <input matInput [matDatepicker]="picker7" [value]="row.content.urgent_date_start | date:'yyyy-MM-dd'" class="fecha_picker" (dateChange)="onDateSelected($event, 7, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matIconSuffix [for]="picker7"></mat-datepicker-toggle>
            <mat-datepicker #picker7></mat-datepicker> / 
           </div>

           <span>Fin del periodo</span>
            <div>
            <input matInput [matDatepicker]="picker8" [value]="row.content.urgent_date_end | date:'yyyy-MM-dd'" class="fecha_picker" (dateChange)="onDateSelected($event, 8, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matIconSuffix [for]="picker8"></mat-datepicker-toggle>
            <mat-datepicker #picker8></mat-datepicker>
            </div> -->

            <mat-form-field>
              <input matInput [ngxMatDatetimePicker]="picker7" placeholder="Inicio del periodo" [(ngModel)]="row.content.urgent_date_start_date" 
                 [min]="minDate" [max]="maxDate" [disabled]="disabled" (dateChange)="onDateSelected($event, 7, row.content.id_cumplimiento)">
              <mat-datepicker-toggle matSuffix [for]="picker7"></mat-datepicker-toggle>
              <ngx-mat-datetime-picker #picker7 [showSpinners]="showSpinners" [showSeconds]="showSeconds" 
                 [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
                 [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
                 [disableMinute]="disableMinute" [hideTime]="hideTime">
              </ngx-mat-datetime-picker>
           </mat-form-field>
           
           <mat-form-field>
            <input matInput [ngxMatDatetimePicker]="picker8" placeholder="Inicio del periodo" [(ngModel)]="row.content.urgent_date_end_date" 
               [min]="minDate" [max]="maxDate" [disabled]="disabled" (dateChange)="onDateSelected($event, 8, row.content.id_cumplimiento)">
            <mat-datepicker-toggle matSuffix [for]="picker8"></mat-datepicker-toggle>
            <ngx-mat-datetime-picker #picker8 [showSpinners]="showSpinners" [showSeconds]="showSeconds" 
               [stepHour]="stepHour" [stepMinute]="stepMinute" [stepSecond]="stepSecond"
               [touchUi]="touchUi" [color]="color" [enableMeridian]="enableMeridian" 
               [disableMinute]="disableMinute" [hideTime]="hideTime">
            </ngx-mat-datetime-picker>
          </mat-form-field>


          </div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">
            <button (click)="openArticleFund(row)" mat-fab color="primary" class="custom-fab">
              <mat-icon style="font-size:22px;">bookmark</mat-icon>
            </button>
            <div *ngFor="let fundamento of row.content.fundamento_legal">
              <a (click)="articleClicked(fundamento)">Artículo {{fundamento.art.articulo}} </a><br/>
            </div>
          </div>  
          <div class="celdas internas" style="flex: 1;">
            <!-- <p *ngFor="let fundamento of row.content.fundamento_legal">{{fundamento.fecha | date:'d-MMM-y'}}</p> -->
            contenido
          </div>  
          <!-- <div class="celdas internas" style="flex: 1;">{{row.content.fecha_cumplio | date:'d-MMM-y'}}</div>  
          <div class="celdas internas" style="flex: 1;">{{row.content.se_cumplio}}</div>   -->
          <div class="celdas internas" style="flex: 1;">contenido</div>  <!--BORRAR, PLACEHOLDER-->
          <div class="celdas internas" style="flex: 1;">contenido</div>  <!--BORRAR, PLACEHOLDER-->
          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  
        </div>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="fixedColumn9" class="container">
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 3;">
        <div class="container" style="flex-direction: column; min-width: 100% !important; ">
          <div class="celdas" style=" min-height: 21.83px;">Comunicación Cliente - supervisor GB</div>
          <div class="celdas" style="flex-direction: row; display: flex;">
            <div style="flex: 3; flex-direction: row; display: flex;">
              <div class="celdas" style="flex: 1; min-height: 85px;">Chat</div>
              <div class="celdas" style="flex: 1;">Teléfono</div>
              <div class="celdas" style="flex: 1;">Video</div>
            </div>
          </div>
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 3;">
        <div class="container" style="flex-direction: row;"> 
          <div class="celdas internas" style="flex: 1;">Contenido</div>
          <div class="celdas internas" style="flex: 1;">Contenido</div>
          <div class="celdas internas" style="flex: 1;">contenido</div>
        </div>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="fixedColumn5" class="container">
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 3;">
        <div class="container" style="flex-direction: column;">
          <div class="celdas" style="height: 3.75vh; min-height: 40.55px;">Envío de Documentación de Evidencia</div>
          <div class="celdas" style="flex-direction: row; display: flex; width: 100%;">
            <div class="celdas" style="flex: 2; min-height: 67px;" 
            matTooltip="Documentación que debe enviarse (declaraciones, pagos (acuse de Recibo Electrónico con Sello Digital); Concilliación fiscal, Conciliación Sat(isr, iva, retenciones) vs contabilidad vs bancos vs ISRvsIVA vs Visor del Sat nóminas vs declarado, vs Diot, Opinión de cumplimiento del Sat, ydel Imss, Cálculo del Ajuste inflacionario, Repse Imss e Infonavit; Actas, Hojas de trabajo (Pérdidas fiscales, Integración de saldos a favor, Cuca, Cufin, Ptu, Baja de A/F), Estados financieros, Declaraciones complementarias ypago ydiot; Declaración ypago estatal; Poderes Contratos, Entregables, Vigencia claves, Captura de pantalla del buzón medios de contacto, correo registrado y llamada a teléfono registrado, Fotos domicilio fiscal, etc); Requerimientos del Sat; El Sistema recibe word, excel, pdf, foto, etc."
            >Documentación que debe enviarse</div>
            <div class="celdas" style="flex: 1;">Fecha ideal para enviarla</div>
            <div class="celdas" style="flex: 1; font-size: smaller;">Fecha máxima para enviarla</div>
          </div>
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 3;">
        <div class="container" style="flex-direction: row;">
          <div class="celdas internas" style="flex: 2;">
            <!-- <span *ngFor="let doc of row.content.documentos_faltantes">{{doc}} <br/></span> -->
            Contenido
          </div>  
          <div class="celdas internas" style="flex: 1;">Contenido</div>
          <div class="celdas internas" style="flex: 1;">Contenido</div>
        </div>
      </mat-cell>
    </ng-container>





    <!-- <ng-container matColumnDef="fixedColumn6" class="container">
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 7;">
        <div class="container" style="flex-direction: column;">
          <div class="celdas" style="height: 3.75vh; min-height: 40.55px;">Recordatorios / Alertas x incumplimiento / Reportes a semáforo</div>
          <div class="celdas" style="flex-direction: row; display: flex; width: 100%;">
            <div class="celdas" style="flex: 1;">Prioridad</div>
            <div class="celdas" style="flex: 4;">Recordatorios previos al cumplimiento</div>
            <div class="celdas" style="flex: 2;">Alertas posteriores</div>
          </div>
          <div class="celdas" style="flex-direction: row; display: flex; width: 100%;">
            <div class="celdas" style="flex: 1;">Nivel</div>
            <div class="celdas" style="flex: 1;">Recordatorio 1</div>
            <div class="celdas" style="flex: 1;">Recordatorio 2</div>
            <div class="celdas" style="flex: 1;">Recordatorio 3</div>
            <div class="celdas" style="flex: 1;">Recordatorio 4</div>
            <div class="celdas" style="flex: 1;">Por incumplimiento</div>
            <div class="celdas" style="flex: 1;">Reporte en 1 día vía semáforo</div>
          </div>
        </div>
      </mat-header-cell>
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 7;">
        <div class="container" style="flex-direction: row;">
          <div class="celdas internas" style="flex: 1;">{{row.content.nivel}}</div>  
          <div class="celdas internas" style="flex: 1;">{{row.content.recordatorios[0]?.mensaje}}</div>
          <div class="celdas internas" style="flex: 1;">{{row.content.recordatorios[1]?.mensaje}}</div>
          <div class="celdas internas" style="flex: 1;">{{row.content.recordatorios[2]?.mensaje}}</div>
          <div class="celdas internas" style="flex: 1;">{{row.content.recordatorios[4]?.mensaje}}</div>
          <div class="celdas internas" style="flex: 1;">{{row.content.alertas[0]?.mensaje}}</div>
          <div class="celdas internas" style="flex: 1;">{{row.content.reporte_via_semaforo[0]?.mensaje}}</div>
        </div>
      </mat-cell>
    </ng-container> -->





    <ng-container matColumnDef="fixedColumn7" class="container">
      <!--HEADER-->
      <mat-header-cell *matHeaderCellDef class="fixed-column" style="background-color: #ffcc0c; padding: 0px; flex: 55;">
        <div class="container" style="flex-direction: column;">
          <div class="celdas" style="height: 2vh; min-height: 18.8px; display: flex; flex-direction: row;">
            <!-- <div class="celdas" style="flex: 2;">... con cumplimiento</div> -->
            <div class="celdas celdasVerdes" style="flex: 18;">... con capacitación</div>
            <div class="celdas celdasVerdes" style="flex: 6;">... con capacitación de grado académico</div>
            <div class="celdas celdasVerdes" style="flex: 6;">... con control</div>
            <div class="celdas" style="flex: 7;">... con Usuarios y sus semáforos</div>
            <div class="celdas" style="flex: 3;">... con Pérdida o prescripción de</div>
            <div class="celdas celdasRojas" style="flex: 14;">... con Precaución</div>
          </div>
          
          <div class="celdas" style="flex-direction: row; display: flex; width: 100%;">
            <!-- <div class="celdas" style="flex: 1;">Impuestos</div>      
            <div class="celdas" style="flex: 1;">Documentación</div>       -->

            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Textos</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Caso práctico</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Preguntas frecuentes</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">1 minuto</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">5 minutos</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">15 minutos</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">30 minutos</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas celdasVerdes" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">60 minutos</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas celdasVerdes" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Preguntas de examen</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>




            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Diplomado</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Especialidad</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>
            <div class="celdas celdasVerdes" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Maestría</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>



    
            <div class="celdas celdasVerdes" style="flex: 2;">Ayuda</div>    
            <div class="celdas celdasVerdes" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Dictamen</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div>      
            <div class="celdas celdasVerdes" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasVerdes">Semáforo</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasVerdes" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div> 




            <div class="celdas" style="flex: 1; font-size: smaller;">1) Responsable del cumplimiento</div>
            <div class="celdas" style="flex: 1; font-size: smaller;">2) Responsable del cumplimiento</div>
            <div class="celdas" style="flex: 1; font-size: smaller;">3) Supervisor de cumplimiento de la empresa</div>
            <div class="celdas" style="flex: 1; font-size: smaller;">4) Supervisor de cumplimiento de GB</div>
            <div class="celdas" style="flex: 1; font-size: smaller;">5) Director de la empresa)</div>
            <div class="celdas" style="flex: 1; font-size: smaller;">6) Administrador de GB</div>
            <div class="celdas" style="flex: 1; font-size: smaller;">7) Super Administrador de GB</div>




            <div class="celdas" style="flex: 1;">Saldos a favor de ISR</div>    
            <div class="celdas" style="flex: 1;">Saldos a favor de IVA</div>    
            <div class="celdas" style="flex: 1;">Uso de pérdidas fiscales</div>    



            <div class="celdas celdasRojas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasRojas" style="font-size: smaller;">Protocolo de respuesta al sat</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div> 
            <div class="celdas celdasRojas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasRojas" style="font-size: smaller;">Inconsistencias</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div> 
            <div class="celdas celdasRojas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasRojas" style="font-size: smaller;">Multas y actualización</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div> 
            <div class="celdas celdasRojas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasRojas" style="font-size: smaller;">Sanciones genéricas </div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div> 
            <div class="celdas celdasRojas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasRojas" style="font-size: smaller;">Facultades, fiscalización y </div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div> 
            <div class="celdas celdasRojas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasRojas" style="font-size: smaller;">Sanciones penales a empresa</div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div> 
            <div class="celdas celdasRojas" style="flex: 2; display: flex; flex-direction: column;">
              <div class="celdas celdasRojas" style="font-size: smaller;">Sanciones penales a persona </div>
              <div style="display: flex; flex-direction: row; height: 65px">
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">link</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Fundamento Legal</div>
                <div class="celdas celdasRojas" style="font-size: x-small; flex: 1;">Actualizado el</div>
              </div>
            </div> 

          </div>
        </div>
      </mat-header-cell>
      <!--BODY-->
      <mat-cell *matCellDef="let row" class="fixed-column" style="background-color: #ffffff; height: 40vh ; padding: 0px; margin: 0px; flex: 55;">
        <div class="container" style="flex-direction: row;">

          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">
              <button mat-icon-button *ngIf="filterCapacitation(row, 1)" (click)="abrirVideo('https://apief.globalbusiness.com.mx/uploads/'+row.content.capacitacion.videos.filename)">
                <mat-icon>video_library</mat-icon>
              </button>
            </div>
            <div class="celdas internas" style="flex: 1;"></div>
            <div class="celdas internas" style="flex: 1;"></div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">
              <button mat-icon-button *ngIf="filterCapacitation(row, 5)" (click)="abrirVideo('https://apief.globalbusiness.com.mx/uploads/'+row.content.capacitacion.videos.filename)">
                <mat-icon>video_library</mat-icon>
              </button>
            </div>
            <div class="celdas internas" style="flex: 1;"></div>
            <div class="celdas internas" style="flex: 1;"></div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">
              <button mat-icon-button *ngIf="filterCapacitation(row, 15)" (click)="abrirVideo('https://apief.globalbusiness.com.mx/uploads/'+row.content.capacitacion.videos.filename)">
                <mat-icon>video_library</mat-icon>
              </button>
            </div>
            <div class="celdas internas" style="flex: 1;"></div>
            <div class="celdas internas" style="flex: 1;"></div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">
              <button mat-icon-button *ngIf="filterCapacitation(row, 30)" (click)="abrirVideo('https://apief.globalbusiness.com.mx/uploads/'+row.content.capacitacion.videos.filename)">
                <mat-icon>video_library</mat-icon>
              </button>
            </div>
            <div class="celdas internas" style="flex: 1;"></div>
            <div class="celdas internas" style="flex: 1;"></div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">
              <button mat-icon-button *ngIf="filterCapacitation(row, 60)" (click)="abrirVideo('https://apief.globalbusiness.com.mx/uploads/'+row.content.capacitacion.videos.filename)">
                <mat-icon>video_library</mat-icon>
              </button>
            </div>
            <div class="celdas internas" style="flex: 1;"></div>
            <div class="celdas internas" style="flex: 1;"></div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div>  


          

          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div>  




          <div class="celdas internas" style="flex: 2;">contenido</div>  
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 



          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  
          <div class="celdas internas" style="flex: 1;">contenido</div>  

          <div class="celdas internas" style="flex: 1;">contenido</div>
          <div class="celdas internas" style="flex: 1;">contenido</div>
          <div class="celdas internas" style="flex: 1;">contenido</div>


          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 
          <div class="celdas internas" style="flex: 2; display: flex; flex-direction: row;">
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
            <div class="celdas internas" style="flex: 1;">Contenido</div>
          </div> 

        </div>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="fixedColumns; sticky: true" style="background-color: #ffcc0c;" ></mat-header-row>
    <mat-row class="row-table" style="height: 15vh; " *matRowDef="let row; columns: fixedColumns;"></mat-row>
  </mat-table>





  <table mat-table [dataSource]="dataSourcePermissionTable" class="mat-elevation-z8">
    <ng-container matColumnDef="perfil">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="min-width: 262.067px; max-width: 262.067px;"> Contenido </th>
      <td mat-cell *matCellDef="let element" style="min-width: 262.067px; max-width: 262.067px; overflow: scroll; padding: 10px;" class="celdas internas">
         {{element.nombre}} 
      </td>
    </ng-container>
  
    <ng-container matColumnDef="circulo_azul">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="min-width:98.2667px; max-width: 98.2667px;"> Círculo azul </th>
      <td mat-cell *matCellDef="let element" style="min-width: 98.2667px; max-width: 98.2667px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(1, element.id) === 'Si' ? true : false)">{{getPermission(1, element.id)}}</button>
      </td>
    </ng-container>
  
    <ng-container matColumnDef="intro">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Intro </th>
      <td mat-cell *matCellDef="let element" style="min-width: 98.2833px; max-width: 98.2833px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(9, element.id, getPermission(2, element.id) === 'Si' ? true : false)">{{getPermission(2, element.id)}}</button>
     </td>
    </ng-container>
  
    <ng-container matColumnDef="noticias">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Noticias </th>
      <td mat-cell *matCellDef="let element" style="min-width: 98.2667px; max-width: 98.2667px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(10, element.id, getPermission(3, element.id) === 'Si' ? true : false)">{{getPermission(3, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="leyes">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Leyes </th>
      <td mat-cell *matCellDef="let element" style="min-width: 98.2833px; max-width: 98.2833px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(11, element.id, getPermission(4, element.id) === 'Si' ? true : false)">{{getPermission(4, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="temario">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Temario </th>
      <td mat-cell *matCellDef="let element" style="min-width: 98.2667px; max-width: 98.2667px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(12, element.id, getPermission(5, element.id) === 'Si' ? true : false)">{{getPermission(5, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="busqueda">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Búsqueda </th>
      <td mat-cell *matCellDef="let element" style="min-width: 98.2833px; max-width: 98.2833px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(13, element.id, getPermission(6, element.id) === 'Si' ? true : false)">{{getPermission(6, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="incentivos">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Incentivos </th>
      <td mat-cell *matCellDef="let element" style="min-width: 98.2833px; max-width: 98.2833px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(14, element.id, getPermission(7, element.id) === 'Si' ? true : false)">{{getPermission(7, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="numeros">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Números </th>
      <td mat-cell *matCellDef="let element" style="min-width: 98.2833px; max-width: 98.2833px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="obligacion">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Obligación </th>
      <td mat-cell *matCellDef="let element" style="min-width: 268.033px; max-width: 268.033px; overflow: scroll; display: flex; flex-direction: row;" class="celdas internas">
        <div class="celdas internas" style="flex: 1; display: flex; align-items: center; justify-content: center;">
          <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
        </div>
        <div class="celdas internas" style="flex: 1; display: flex; align-items: center; justify-content: center;">
          <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
        </div>
        <div class="celdas internas" style="flex: 1; display: flex; align-items: center; justify-content: center;">
          <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
        </div>
        
     </td>
    </ng-container>

    <ng-container matColumnDef="descripcion">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Descripción </th>
      <td mat-cell *matCellDef="let element" style="min-width: 160.8167px; max-width: 160.8167px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="impuestos">
      <th mat-header-cell *matHeaderCellDef class="thead-permission"> Impuestos </th>
      <td mat-cell *matCellDef="let element" style="min-width: 160.8168px; max-width: 160.8168px; overflow: scroll; padding: 10px;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="aplicaAlPunto">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;"> Aplica al punto </th>
      <td mat-cell *matCellDef="let element" style="min-width: 85.1667px; max-width: 85.1667px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="prioridad">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Prioridad </th>
      <td mat-cell *matCellDef="let element" style="min-width: 85.1833px; max-width: 85.1833px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="periodoIdeal">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Periodo ideal para cumplirlo </th>
      <td mat-cell *matCellDef="let element" style="min-width: 174.7px; max-width: 174.7px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="periodoRecomendado">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Periodo recomendado para cumplirlo </th>
      <td mat-cell *matCellDef="let element" style="min-width: 174.7px; max-width: 174.7px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="vencimientoProximo">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Vencimiento próximo</th>
      <td mat-cell *matCellDef="let element" style="min-width: 174.7px; max-width: 174.7px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="muyUrgente">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Muy urgente</th>
      <td mat-cell *matCellDef="let element" style="min-width: 174.7px; max-width: 174.7px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="fechaMaxima">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Fundamento legal</th>
      <td mat-cell *matCellDef="let element" style="min-width: 524.151px; max-width: 524.151px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="seCumplio">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Se cumplió</th>
      <td mat-cell *matCellDef="let element" style="min-width: 349.434px; max-width: 349.434px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>
    
    <ng-container matColumnDef="alertaDeLoOcurrido">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Alerta de lo ocurrido</th>
      <td mat-cell *matCellDef="let element" style="min-width: 524.151px; max-width: 524.151px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="comunicacion">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Comunicación cliente - supervisor de GB</th>
      <td mat-cell *matCellDef="let element" style="min-width: 393.099px; max-width: 393.099px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="documentacion">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Envío de documentación de evidencia</th>
      <td mat-cell *matCellDef="let element" style="min-width: 393.1px; max-width: 393.1px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="textos">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Textos</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="casoPractico">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Caso práctico</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="preguntasFrecuentes">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Preguntas frecuentes </th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="1minuto">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">1 minuto </th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="5minutos">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">5 minutos</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="15minutos">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">15 minutos </th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="30minutos">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">30 minutos </th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="60minutos">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">60 minutos </th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="examen">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Examen </th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="diplomado">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Diplomado</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="especialidad">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Especialidad</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="maestria">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Maestría</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="ayuda">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Ayuda</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="dictamen">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Dictamen</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="semaforo">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Semáforo</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="responsable1">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Responsable del cumplimiento</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="responsable2">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Responsable del cumplimiento 2</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="supervisor">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Supervisor del cumplimiento de la empresa</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="supervisorGB">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Supervisor del cumplimiento de GB</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="director">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Director de la empresa</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="administrador">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Administrador de GB</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="superadministrador">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Super administrador</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="isr">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Saldos a favor del ISR</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="iva">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Saldos a favor del IVA</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="fiscales">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Uso de pérdidas de fiscales</th>
      <td mat-cell *matCellDef="let element" style="min-width: 134.4px; max-width: 134.4px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="respuestaSat">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Protocolo de respuesta al SAT</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="inconsistencias">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Inconsistencias</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="multas">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Multas y actualización</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="sancionesGenericas">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Sanciones genéricas</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="facultades">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Facultades</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>
  
    <ng-container matColumnDef="sancionesEmpresa">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Sanciones penales a empresas</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <ng-container matColumnDef="sancionesPersona">
      <th mat-header-cell *matHeaderCellDef class="thead-permission" style="padding: 0;">Sanciones penales a personas</th>
      <td mat-cell *matCellDef="let element" style="min-width: 266.5499px; max-width: 266.5499px; overflow: scroll;" class="celdas internas">
        <button mat-button color="primary" (click)="editPermissions(1, element.id, getPermission(8, element.id) === 'Si' ? true : false)">{{getPermission(8, element.id)}}</button>
     </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="permissionsColumnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: permissionsColumnsToDisplay;"></tr>
  </table>
  







<mat-toolbar-row style="background-color: #ffcc0c; width: 900px; z-index: 3; " >
  <div style=" margin-left: auto; margin-right: auto;">
    <button mat-icon-button mwlCalendarPreviousView class="button_month" (click)="monthPrevious()">
        <mat-icon>chevron_left</mat-icon><span>Anterior</span>
    </button>
    <span >
        {{mesMostrar}}
    </span>
    <button mat-icon-button mwlCalendarNextView class="button_month" (click)="monthNext()">
        <span>Siguiente</span><mat-icon>chevron_right</mat-icon>
    </button>
  </div>
</mat-toolbar-row>

</div>

<div *ngIf="universalRow !== null">
<div style="position: fixed; 
top:130px; left: 390px; 
width: 50%; z-index: 400; 
max-height: 80vh; 
background-color: white; 
padding: 10px; 
box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.5); 
border-radius: 10px; overflow:scroll;" 
*ngIf="isShownComponent">
    <h5>Relacionar con artículos.</h5>
  <app-search-document-and-paragraph
  (sendingArticles)="artReceived($event)" 
  (sendingParagraphs) = "parRecieved($event)"
  (sendingDeleted) = "delArtRecieved($event)"
  (sendingDeletedParagraphs) = "delArtRecieved($event)"
  (closingPanel)="closePanel($event)" 
  [articlesPrevRelated]="universalRow.content.leyes"
  [parragraphsPrevRelated]="universalRow.content.parrafos"></app-search-document-and-paragraph> 
</div>
</div>

<div style="position: fixed; top:230px; left: 390px; width: 50%; z-index: 400;">
  <div style="background-color: white; padding: 10px; box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.5); border-radius: 10px;" *ngIf="isShownTopics">
    <h5>Relacionar con temas.</h5>
    <app-search-topic (sendingTopics)="topicReceived($event)" 
    (closingPanel)="closePanel($event)" 
    (takeTopic)="deleteTopic($event)"
    [topicsPrevRelated]="universalRow.content.temas"></app-search-topic>
  </div>
</div>

<div style="position: fixed; top:130px; left: 390px; width: 50%; z-index: 4;">
  <div style="max-height: 70vh; overflow: scroll; background-color: white; padding: 10px; box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.5); border-radius: 10px;" *ngIf="isShownDocumentation">
    <h5>Relacionar con documentaciones.</h5>
    <app-search-documentation (closingPanel)="closePanel($event)" (sendingDocumentations)="onDataReceived($event)"></app-search-documentation>
    <button mat-raised-button color="primary" style="margin: 22px;" (click)="documentationReceived()">Relacionar</button>&nbsp;
    <button mat-raised-button color="secondary" (click)="closeDocumentation()">Cancelar</button>
  </div>
</div>

<div style="position: fixed; top:130px; left: 390px; width: 50%; z-index: 4;">
  <div style="max-height: 70vh; overflow: scroll; background-color: white; padding: 10px; box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.5); border-radius: 10px;" *ngIf="isShownCapacitations">
    <h5>Relacionar con capacitaciones.</h5>
    <app-search-capacitations (closingPanel)="closePanel($event)" (sendingCapacitations)="onCapacitationsReceived($event)"></app-search-capacitations>
    <button mat-raised-button color="primary" style="margin: 22px;" (click)="capacitationsRecieved()">Relacionar</button>&nbsp;
    <button mat-raised-button color="secondary" (click)="closeCapacitations()">Cancelar</button>
  </div>
</div>
