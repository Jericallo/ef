<app-user-icon></app-user-icon>

<div *ngIf="srcVideo" id="divVideo" style="width: 100vw; height: 90vh">
  <button  (click)="scrollDown()" class="scroll" mat-button><mat-icon class="icono">expand_more</mat-icon></button>
  <span (click)="scrollDown()" class="scroll-text">Ver más</span>
  <video (error)="handleVideoError()" (loadedmetadata)="videoLoaded()" autoplay="autoplay" preload="auto" id="myVideo" #video style="width: 100%; height: auto;"><!--<source type="video/mp4">--></video>
</div>

<div class="news-container" fxLayout="row wrap">

  <div class="content" style="display: flex;">
    <div (click)="setSrcVideo(time)" *ngFor="let time of results;let indexTime=index;" style="width: 18.33%; height: auto; padding-right: 1%; padding-left: 1%; cursor: pointer;" >
      <div>
        <h6 style="text-align: center;">{{ time.titulo || '' }}</h6>
      </div>
      <img [src]="time.imagen" alt="" style="width: 100%; height: auto;" [ngClass]="{'b-red':time.selected}">
    </div>
  </div>

  <div #scrollElement fxFlex.gt-sm="25" *ngFor="let res of results" fxFlex="100" (click)="setSrcVideo(res)">
    <mat-card>
      <mat-card-header>
        <div mat-card-avatar>
          <img src="assets/images/logo-light-icon.png" class="img-fluid img-circle" />
        </div>
        <mat-card-title>{{res.video.duracion/60 | number:'1.0-0'}} Minuto<span *ngIf="res.video.duracion != 60">s</span> </mat-card-title>
        <mat-card-subtitle>{{res.autor}}</mat-card-subtitle>
      </mat-card-header>
      <img mat-card-image [src]="res.imagen" alt="Photo of a Shiba Inu" />
      <mat-card-content>
        <p>{{res.texto || ''}}</p>
        <mat-card-actions style="display: flex; align-items: center; justify-content: center;" >
          <button style="background:rgb(45, 87, 202);"mat-raised-button color="accent"><mat-icon>play_arrow</mat-icon></button>
         <!-- <button mat-button><mat-icon>share</mat-icon></button>-->
        </mat-card-actions>
      </mat-card-content>
    </mat-card>
  </div>
  <mat-card style="width: 679px; height: 398px; overflow: visible;">
    <mat-card-header>
      <div mat-card-avatar>
        <img src="assets/images/logo-light-icon.png" class="img-fluid img-circle" />
      </div>
      <mat-card-title>Manual</mat-card-title>
      <mat-card-subtitle>Escudo Físcal</mat-card-subtitle>
    </mat-card-header>
    <img mat-card-image src="https://assets.ltkcontent.com/images/34823/user-manual_7abbbb2796.jpg" style="width: 679px; height: 180px; object-fit: contain;" alt="Photo of a Shiba Inu" />
    <mat-card-content>
      <p>Manual para el correcto uso de la plataforma Escudo Fiscal</p>
      <mat-card-actions style="display: flex; align-items: center; justify-content: center;" >
        <button (click)="scrollToManual()"style="background: rgb(45, 87, 202);" mat-raised-button color="accent"><mat-icon>arrow_downward</mat-icon></button>
      </mat-card-actions>
    </mat-card-content>
  </mat-card>
    <div #scrollElement2  class="manual-container">
      <div style="margin: 20px;">
        <p style="display: flex; align-items: center; justify-content: center; font-weight: 700;">MANUAL ESCUDO FISCAL</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Natus, voluptates minima perspiciatis obcaecati iusto excepturi, illo 
          architecto porro at quis harum inventore animi quod 
          distinctio deleniti nulla doloremque repellat. Pariatur!
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto, vero omnis magnam
         perferendis eum fugiat soluta, inventore molestiae a maiores 
         quo accusamus fuga officia porro minima nihil voluptas. Totam, assumenda?</p>
  
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat ea beatae dolorem aspernatur dolore? Est, nobis molestias,
           facere vero laudantium, aperiam aspernatur dolorem qui omnis nemo commodi numquam. Iure, maiores?
           i nulla doloremque repellat. Pariatur!
           Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto, vero omnis magnam
            perferendis eum fugiat soluta, inventore molestiae a maiores 
            quo accusamus fuga officia porro minima nihil voluptas. Totam, assumend
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Porro laudantium at aliquid suscipit voluptatem quia, hic cum 
          assumenda adipisci provident sit quasi eum commodi veniam minima consequatur architecto, quibusdam animi.</p>
        <p>Soy un manual</p>

        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat ea beatae dolorem aspernatur dolore? Est, nobis molestias,
          facere vero laudantium, aperiam aspernatur dolorem qui omnis nemo commodi numquam. Iure, maiores?
          i nulla doloremque repellat. Pariatur!
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto, vero omnis magnam
           perferendis eum fugiat soluta, inventore molestiae a maiores</p>

          <div style="display: flex; align-items: center; justify-content: center;">
            <video width="640" height="360" controls>
              <source src="https://www.youtube.com/watch?v=LXb3EKWsInQ" type="video/mp4">
              Tu navegador no admite la reproducción de video.
            </video>
          </div>
          <button mat-flat-button color="primary" style="margin: 10px; float: right;"> Siguiente </button>
      </div>
    </div>
</div>