<div class="mainDiv" *ngIf="showMain">
    <mat-card class="mainCard">
      <a routerLink="/config/menu" class="return"><mat-icon  style="font-weight: 700; font-size: 40px; overflow: visible; padding: 20px;">arrow_back</mat-icon></a>
      <div style="display: flex; align-items: center; justify-content: center;">
      <p style="font-weight: 700;">{{ title }}</p>
      </div>
      <mat-card-content>
        <div class="artlet-container">
          <div>
            <mat-checkbox class="example-margin" [(ngModel)]="useDoc">Seguir utilizando</mat-checkbox>
            <mat-form-field class="quarter-width-mr" appearance="fill">
              <mat-label>Documento</mat-label>
              <input type="text" matInput [formControl]="myControlDocuments" [matAutocomplete]="auto" (change)="handleEmptyDoc($event)" required>
              <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayDocuments" (optionSelected)="selectedDoc($event)">
                <mat-option *ngFor="let option of filteredDocOptions | async" [value]="option">
                  {{option.titulo}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div>
            <mat-checkbox class="example-margin" [(ngModel)]="useTit">Seguir utilizando</mat-checkbox>
            <mat-form-field class="quarter-width-mr" appearance="fill">
              <mat-label>Titulo</mat-label>
              <input type="text" matInput [formControl]="myControlTitles" [matAutocomplete]="autoT" (change)="handleEmptyTit($event)">
              <mat-autocomplete #autoT="matAutocomplete" [displayWith]="displayTitles" (optionSelected)="selectedTit($event)">
                <mat-option *ngFor="let option of filteredTitOptions | async" [value]="option">
                  {{option.nombre}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div>
            <mat-checkbox class="example-margin" [(ngModel)]="useCap">Seguir utilizando</mat-checkbox>
            <mat-form-field class="quarter-width-mr" appearance="fill">
              <mat-label>Capitulo</mat-label>
              <input type="text" matInput [formControl]="myControlChapters" [matAutocomplete]="autoC" (change)="handleEmptyCha($event)" required>
              <mat-autocomplete #autoC="matAutocomplete" [displayWith]="displayChapters" (optionSelected)="selectedCha($event)">
                <mat-option *ngFor="let option of filteredChaOptions | async" [value]="option">
                  {{option.nombre}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div>
            <mat-checkbox class="example-margin" [(ngModel)]="useSec">Seguir utilizando</mat-checkbox>
            <mat-form-field class="quarter-width-mr" appearance="fill">
              <mat-label>Sección</mat-label>
              <input type="text" matInput [formControl]="myControlSections" [matAutocomplete]="autoS" (change)="handleEmptySec($event)" required>
              <mat-autocomplete #autoS="matAutocomplete" [displayWith]="displaySections" (optionSelected)="selectedSec($event)">
                <mat-option *ngFor="let option of filteredSecOptions | async" [value]="option">
                  {{option.nombre}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
        </div>
        <div class="artlet-container">
          <form >
            <mat-form-field class="artlet-full-width" appearance="fill">
              <mat-label>Articulo</mat-label>
              <input (keypress)="numberOnly($event)" type="number" placeholder="Ingresa la busqueda" min="1" matInput [formControl]="myControlArticle" [matAutocomplete]="autoB" (change)="handleEmptyArt($event)" required>
              <mat-autocomplete #autoB="matAutocomplete" (optionSelected)="selectedArt($event)" showpanel="true">
                <mat-option *ngFor="let option of filteredArtOptions | async" [value]="option">
                  {{ option }}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
            <p class="errorMsg" *ngIf="showErrorArticle">Este documento permite máximo {{ maxDocs }}  articulos</p>
          </form>
          <form>
            <mat-form-field class="artlet2-full-width" appearance="fill">
                <mat-label>Indicador</mat-label>
                <input type="text" matInput [formControl]="myControlIndicator" [(ngModel)]="indicator">
            </mat-form-field>
          </form>
          <form>
            <mat-form-field class="category-full-width" appearance="fill">
                <mat-label>Nombre</mat-label>
                <input type="text" matInput [formControl]="myControlName" [(ngModel)]="name" required>
            </mat-form-field>
          </form>
        </div>
      </mat-card-content>
      
      <!-- Editor Texto -->
      <!--<div class="toolkit">
        <angular-editor [(ngModel)]="htmlContent" [config]="editorConfig" required></angular-editor>
      </div>
      <br>-->
  
      <!-- Lista -->
      <mat-card class="listCard" *ngIf="showResults">
        <mat-list role="list" *ngFor="let item of listOfArticles; let i = index">
          <div class="itemList">
            <mat-list-item role="listitem">
              Art {{ item.articulo }}.-
              {{ item.contenido }}
            </mat-list-item>
            <button mat-icon-button color="warn" (click)="deleteItem(i)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </mat-list>
      </mat-card>

      <!-- Lista Evento -->
      <mat-card class="listCard" *ngIf="showEvents">
        <mat-list role="list" *ngFor="let item of listOfEvents; let i = index">
          <div class="itemList">
            <mat-list-item role="listitem">
              {{ item.ind || '' }} - {{ item.htmlCont }}
            </mat-list-item>
            <button mat-icon-button color="primary" (click)="editEvent(item)">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn" (click)="deleteEvent(i)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </mat-list>
      </mat-card>
  
      <!-- Botones -->
      <div class="buttons-container" >
        <!--<button mat-raised-button color="basic" (click)="showSearchComponent()">Relaciones</button>&nbsp;-->
        <div style="position: absolute; left: 45px; bottom: 30px;">
          <button mat-raised-button color="primary" [disabled]="checkValues()" (click)="saveArticle()">Guardar</button>
        </div>
        <div style="position: absolute; right: 45px; bottom: 20px;">
          <button mat-fab color="secondary" (click)="showEvent()">
            <mat-icon>add</mat-icon>
          </button>
        </div>
      </div>
    </mat-card>
  </div>
  
  <ng-container *ngIf="isShownComponent">
    <app-search-document (sendingArticles)="artReceived($event)" (closingPanel)="closePanel($event)"></app-search-document>
  </ng-container>
  
  <div class="spinner" *ngIf="showSpinner">
    <mat-spinner></mat-spinner>
  </div>