<div style="position: fixed; right: 40px; top: 0px; z-index: 1000;">
    <app-user-icon></app-user-icon>
</div>

<div style="padding: 20px;">
    <mat-form-field appearance="fill" style="margin-right: 20px; width: 200px;">
        <mat-label>Mes</mat-label>
        <mat-select [(ngModel)]="selectedMonth" (selectionChange)="getQuestions()">
            <mat-option *ngFor="let month of months" [value]="month.value">
                {{ month.viewValue }}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill" style="width: 200px;">
        <mat-label>AÃ±o</mat-label>
        <mat-select [(ngModel)]="selectedYear" (selectionChange)="getQuestions()">
            <mat-option *ngFor="let year of years" [value]="year">
                {{ year }}
            </mat-option>
        </mat-select>
    </mat-form-field>
</div>

<div class="table-container">
    <div class="table">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width: 100%;">
            <ng-container matColumnDef="question">
              <th mat-header-cell *matHeaderCellDef> Pregunta </th>
              <td mat-cell  *matCellDef="let element"> {{ element.question }} </td>
            </ng-container>
          
            <ng-container matColumnDef="answers">
              <th mat-header-cell *matHeaderCellDef> Respuestas </th>
              <td mat-cell *matCellDef="let element">
                <ul>
                  <li *ngFor="let answer of element.answers">
                    {{ answer.answer === 'yes' ? 'Si' : answer.answer === 'no' ? 'No' : answer.answer }} 
                    (Usuario: {{ answer.userId }})
                  </li>
                </ul>
              </td>
            </ng-container>
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          
    </div>

</div>